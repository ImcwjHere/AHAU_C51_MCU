C51 COMPILER V9.01   AT24C02                                                               12/06/2023 12:06:33 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE AT24C02
OBJECT MODULE PLACED IN .\AT24C02.obj
COMPILER INVOKED BY: D:\Program Files\Keil\C51\BIN\C51.EXE ..\eide\src\utils\AT24C02.c BROWSE DEBUG OBJECTEXTEND PRINT(.
                    -\AT24C02.lst) OBJECT(.\AT24C02.obj)

line level    source

   1          #include "AT24C02.h"
   2          
   3          // 往AT24C02的一个地址写入一个数据
   4          // AT24C02 共 2K bit, 32页 x 8 Byte/页, 共256Byte
   5          // addr 地址, 范围为0x00-0xFF
   6          // 不能写的太快，记得加一个delay，经测试1s咔咔稳，可以尝试调参超频一波
   7          void writeAT24C02(unsigned char addr, unsigned char dat) {
   8   1              startIIC();
   9   1              sendByteToIIC((unsigned char)(AT24C02_ADD));    //发送写器件地址
  10   1              sendByteToIIC(addr);    //发送要写入内存地址
  11   1              sendByteToIIC(dat);     //发送数据
  12   1              stopIIC();
  13   1              delayOneMillisecond(300);
  14   1      }
  15          
  16          // 读取AT24C02的一个地址的一个数据
  17          // addr 地址, 范围为0x00-0xFF
  18          // 返回值为读出的数据
  19          unsigned char readAT24C02(unsigned char addr) {
  20   1              unsigned char num;
  21   1              
  22   1              startIIC();
  23   1              sendByteToIIC((unsigned char)(AT24C02_ADD));    //发送写器件地址
  24   1              sendByteToIIC(addr);    //发送要读取的地址
  25   1              startIIC();
  26   1              sendByteToIIC((unsigned char)(AT24C02_ADD + 1));        //发送读器件地址
  27   1              num=readByteFromIIC();  //读取数据
  28   1              stopIIC();
  29   1              delayOneMillisecond(300);
  30   1              
  31   1              return num;     
  32   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     73    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       4
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
